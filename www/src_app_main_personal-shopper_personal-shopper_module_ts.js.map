{"version":3,"file":"src_app_main_personal-shopper_personal-shopper_module_ts.js","mappings":";;;;;;;;;;;;;;;;;;;AAAsE;AACL;AAc1D,IAAM,oBAAoB,GAA1B,MAAM,oBAAoB;IAI/B,gBAAgB,CAAC;IAEV,IAAI;QACT,IAAI,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE;YACpB,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;SACnC;IACH,CAAC;IAED;;OAEG;IAEI,OAAO;QACZ,IAAI,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE;YACpB,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;SACnC;IACH,CAAC;;;;oBAnBA,0DAAe,SAAC,yEAAkB;;AADxB,oBAAoB;IAZhC,wDAAS,CAAC;QACT,QAAQ,EAAE,iBAAiB;QAC3B,QAAQ,EAAE,4BAA4B;;KASvC,CAAC;GACW,oBAAoB,CAqBhC;AArBgC;;;;;;;;;;;;;;;;;;;;ACfQ;AACc;AACO;AAE9D,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,uEAAmB;KAC/B;CACF,CAAC;AAMK,IAAM,gCAAgC,GAAtC,MAAM,gCAAgC;CAAG;AAAnC,gCAAgC;IAJ5C,uDAAQ,CAAC;QACR,OAAO,EAAE,CAAC,kEAAqB,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,yDAAY,CAAC;KACxB,CAAC;GACW,gCAAgC,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;ACfJ;AACoB;AACL;AACS;AACD;AACqB;AACvB;AAOvD,IAAM,yBAAyB,GAA/B,MAAM,yBAAyB;CAAG;AAA5B,yBAAyB;IALrC,uDAAQ,CAAC;QACR,OAAO,EAAE,CAAC,kEAAY,EAAE,8FAAgC,CAAC;QACzD,SAAS,EAAE,CAAC,uEAAW,CAAC;QACxB,YAAY,EAAE,CAAC,uEAAmB,EAAE,yEAAkB,EAAE,yEAAoB,CAAC;KAC9E,CAAC;GACW,yBAAyB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACZwB;AACrB;AAEO;AACjB;AACe;AACgB;AACa;AACd;AACyB;AACjB;AACyB;AAClB;AAOrE,IAAM,mBAAmB,GAAzB,MAAM,mBAAmB;IAa9B,YACmB,OAA0B,EAC1B,oBAAiD,EACjD,cAA8B,EACvC,MAAc,EACd,sBAA8C,EAC9C,UAAsB;QALb,YAAO,GAAP,OAAO,CAAmB;QAC1B,yBAAoB,GAApB,oBAAoB,CAA6B;QACjD,mBAAc,GAAd,cAAc,CAAgB;QACvC,WAAM,GAAN,MAAM,CAAQ;QACd,2BAAsB,GAAtB,sBAAsB,CAAwB;QAC9C,eAAU,GAAV,UAAU,CAAY;QAjBhC,YAAO,GAAG,EAAE,CAAC;QAIb,sBAAiB,GAAG,CAAC,CAAC;QAEtB,gBAAW,GAAG,IAAI,CAAC;QACnB,kBAAa,GAAG,IAAI,yCAAO,EAAY,CAAC;QACxC,6BAAwB,GAAG,KAAK,CAAC;IAWjC,CAAC;IACD;;;QAGI;IAEJ,QAAQ;QACN,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;QACjD,mCAAmC;QACnC,IAAI,CAAC,oBAAoB,CAAC,gCAAgC,EAAE,CAAC,SAAS,CAAC,QAAQ,CAAC,EAAE;YAChF,IAAI,CAAC,YAAY,GAAG,QAAQ,CAAC;YAC7B,IAAI,CAAC,iBAAiB,GAAG,CAAC,CAAC;QAC7B,CAAC,CAAC;QACF,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;QAClC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,CAAC;QACjD,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QAC/B,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC,2BAA2B,CAC3D,sFAAmC,CACpC,CAAC;QACF,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,6DAAY,CAAC,IAAI,CAAC,CAAC,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE;YAC7D,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;YAClB,IAAI,CAAC,sBAAsB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;QACnF,CAAC,CAAC,CAAC;IACL,CAAC;IAID,oBAAoB,CAAC,SAAiB,EAAE,KAAa;QACnD,qCAAqC;QACrC,MAAM,OAAO,GAAqB,QAAQ,CAAC,cAAc,CAAC,UAAU,KAAK,EAAE,CAAC,CAAC;QAC7E,QAAQ,SAAS,EAAE;YACjB,KAAK,MAAM;gBACT,IAAI,IAAI,CAAC,iBAAiB,GAAG,CAAC,EAAE;oBAC9B,IAAI,CAAC,iBAAiB,EAAE,CAAC;oBACzB,OAAO,CAAC,GAAG,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;iBACvE;gBACD,MAAM;YACR,KAAK,OAAO;gBACV,IAAI,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE;oBACvE,IAAI,CAAC,iBAAiB,EAAE,CAAC;oBACzB,OAAO,CAAC,GAAG,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;iBACvE;gBACD,MAAM;SACT;IACH,CAAC;IAED,MAAM,CAAC,KAAU,EAAE,KAAa;QAC9B,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,IAAI,GAAG,UAAU,GAAG,KAAK,GAAG,KAAK,CAAC,CAAC;QACxE,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,OAAO,GAAG,KAAK,CAAC;QACzC,MAAM,WAAW,GAAW;YAC1B,OAAO,EAAE;gBACP,UAAU,EAAE,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,EAAE;gBACvC,OAAO,EAAE,CAAC;gBACV,MAAM,EAAE,KAAK,KAAK,CAAC,CAAC,CAAC,CAAC,wEAAoB,CAAC,CAAC,CAAC,2EAAuB;aACrE;SACF,CAAC;QACF,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QAC/B,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACtC,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;QACnC,IAAI,CAAC,YAAY,EAAE,CAAC;QACpB,IAAI,CAAC,iBAAiB,GAAG,CAAC,CAAC;QAC3B,IAAI,IAAI,CAAC,YAAY,CAAC,MAAM,KAAK,CAAC,EAAE;YAClC,4BAA4B;YAC5B,IAAI,CAAC,oBAAoB;iBACtB,cAAc,EAAE;iBAChB,SAAS,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,oBAAoB,CAAC,oBAAoB,EAAE,CAAC,CAAC;SAC1F;IACH,CAAC;IAED,KAAK,CAAC,MAAM;QACV,kEAAkE;QAClE,IAAI,MAAM,KAAK,CAAC,EAAE;YAChB,IAAI,CAAC,eAAe,GAAG,wEAAoB,CAAC;SAC7C;QACD,kEAAkE;QAClE,IAAI,MAAM,KAAK,CAAC,EAAE;YAChB,IAAI,CAAC,eAAe,GAAG,2EAAuB,CAAC;SAChD;QACD,IAAI,MAAM,KAAK,SAAS,EAAE;YACxB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;SAC7B;IACH,CAAC;IAED,gBAAgB;QACd,oGAA+B,CAAC;YAC9B,UAAU,EAAE,uBAAuB;YACnC,YAAY,EAAE,uBAAuB;SACtC,CAAC,CAAC;QACH,qCAAqC;QACrC;;;6GAGqG;QACrG,4BAA4B;QAC5B,uEAAuE;QACvE;;;aAGK;IACP,CAAC;IAED,oBAAoB,CAAC,KAAU;QAC7B,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,cAAc,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,cAAc,CAAC;QACnF,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC;QACtF,+EAA+E;IACjF,CAAC;IAED,eAAe;QACb,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;IAClC,CAAC;IAED,SAAS,CAAC,KAAK;QACb,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,wBAAwB,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,KAAK,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,CAAC;IACvF,CAAC;IAED,WAAW,CAAC,KAAa;QACvB,qCAAqC;IACvC,CAAC;;;YA1JM,2DAAiB;YAQjB,wGAA2B;YAD3B,+EAAc;YATd,oDAAM;YAQN,gGAAsB;YADtB,uEAAU;;AAWN,mBAAmB;IAL/B,yDAAS,CAAC;QACT,QAAQ,EAAE,sBAAsB;QAChC,6EAA2C;;KAE5C,CAAC;GACW,mBAAmB,CA6I/B;AA7I+B;;;;;;;;;;;;;;;;;;ACTT;AAEvB,IAAK,SAMJ;AAND,WAAK,SAAS;IACZ,8BAAO,SAAS;IAChB,qCAAM;IACN,2CAAS;IACT,yCAAQ;IACR,yCAAQ;AACV,CAAC,EANI,SAAS,KAAT,SAAS,QAMb;AAKM,IAAM,kBAAkB,GAAxB,MAAM,kBAAkB;IAqD7B,YACY,EAAc,EACjB,QAAmB,EACT,cAAiC;QAFxC,OAAE,GAAF,EAAE,CAAY;QACjB,aAAQ,GAAR,QAAQ,CAAW;QACT,mBAAc,GAAd,cAAc,CAAmB;QAvDnC,2BAAsB,GAAG,GAAG,CAAC;QAC7B,sBAAiB,GAAG,CAAC,CAAC;QAC/B,eAAU,GAAG,KAAK,CAAC;QAepB,UAAK,GAAG,KAAK,CAAC;QAGd,gBAAW,GAAG,GAAG,CAAC;QAGlB,aAAQ,GAAG,IAAI,uDAAY,EAAE,CAAC;QAG9B,WAAM,GAAG,IAAI,uDAAY,EAAU,CAAC;QAEpC,UAAK,GAAG,IAAI,uDAAY,EAAU,CAAC;QAGnC,cAAS,GAAG,IAAI,CAAC;QA0BtB,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC,aAAa,CAAC;QAChC,EAAE;IACJ,CAAC;IAzBD,KAAK,CAAC,KAAU;QACd,IAAI,IAAI,CAAC,UAAU,EAAE;YACnB,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;SAC/B;IACH,CAAC;IAGD,QAAQ,CAAC,KAAU;QACjB,IAAI,IAAI,CAAC,UAAU,EAAE;YACnB,MAAM,SAAS,GAAG,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;YAC/C,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,SAAS,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,CAAC;SACxG;IACH,CAAC;IAED,IAAI,UAAU;QACZ,OAAO,CAAC,IAAI,CAAC,KAAK,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC;IACzC,CAAC;IAUD,qBAAqB;QACnB,+GAA+G;IACjH,CAAC;IACD,eAAe,KAAK,CAAC;IAErB,WAAW;QACT,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;IACtC,CAAC;IAED;;;;;;;;OAQG;IAEK,SAAS,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,MAAM,GAAG,CAAC,EAAE,QAAQ,GAAG,CAAC,EAAE;QAClD,MAAM,SAAS,GAAG,CAAC,IAAI,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC9D,MAAM,SAAS,GAAG,CAAC,IAAI,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAE9D,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,EAAE,YAAY,EAAE,aAAa,QAAQ,SAAS,CAAC,CAAC;QACnF,IAAI,CAAC,QAAQ,CAAC,QAAQ,CACpB,IAAI,CAAC,OAAO,EACZ,iBAAiB,EACjB,eAAe,SAAS,OAAO,SAAS,iBAAiB,MAAM,MAAM,CACtE,CAAC;IACJ,CAAC;IAEO,iBAAiB,CAAC,KAAU;QAClC,MAAM,SAAS,GAAW,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;QACvD,MAAM,OAAO,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,GAAG,GAAG,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC;QAC5E,gDAAgD;QAChD,IAAI,CAAC,SAAS,CAAC;YACb,CAAC,EAAE,KAAK,CAAC,MAAM;YACf,CAAC,EAAE,KAAK,CAAC,MAAM;YACf,MAAM,EAAE,CAAC,KAAK,CAAC,MAAM,GAAG,EAAE,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW;SACvD,CAAC,CAAC;QACH,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;IAC7B,CAAC;IAEO,iBAAiB,CAAC,SAAiB;QACzC,gCAAgC;QAChC,IAAI,CAAC,SAAS,CAAC;YACb,CAAC,EAAE,CAAC;YACJ,CAAC,EAAE,CAAC;YACJ,MAAM,EAAE,CAAC;YACT,QAAQ,EAAE,IAAI,CAAC,sBAAsB;SACtC,CAAC,CAAC;QACH,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;IAC7B,CAAC;IAED,qCAAqC;IACrC,oCAAoC;IACpC,gCAAgC;IAChC,wDAAwD;IACxD,sBAAsB;IACtB,GAAG;IAEH;;;;;;;;;;;;;;;;;;OAkBG;IAEH;;;OAGG;IAEH,sDAAsD;IACtD,sFAAsF;IACtF,gGAAgG;IAChG,IAAI;IAGI,gBAAgB,CAAC,KAAK;QAC5B,MAAM,OAAO,GAAG,QAAQ,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;QAChD,uCAAuC;QACvC,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC,WAAW,CAAC,CAAC,iFAAiF;QACnH,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC,YAAY,CAAC,CAAC,kFAAkF;QACtH,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC,EAAE,IAAI,CAAC,KAAK,GAAG,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;QAC/D,MAAM,UAAU,GACd,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC,aAAa,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC;QACvF,MAAM,UAAU,GACd,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC,aAAa,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC;QACvF,QAAQ,IAAI,CAAC,WAAW,EAAE;YACxB,KAAK,GAAG;gBACN,IAAI,UAAU,EAAE;oBACd,OAAO,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC;iBACzD;gBACD,OAAO,SAAS,CAAC,IAAI,CAAC;gBACtB,MAAM;YACR,KAAK,GAAG;gBACN,IAAI,UAAU,EAAE;oBACd,OAAO,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC;iBAC5D;gBACD,OAAO,SAAS,CAAC,IAAI,CAAC;gBACtB,MAAM;YACR,KAAK,IAAI;gBACP,cAAc;gBACd,IAAI,UAAU,IAAI,UAAU,EAAE;oBAC5B,OAAO,SAAS,CAAC,IAAI,CAAC;iBACvB;qBAAM,IAAI,UAAU,EAAE;oBACrB,OAAO,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC;iBAC5D;qBAAM,IAAI,UAAU,EAAE;oBACrB,OAAO,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC,SAAS,CAAC,EAAE,CAAC;iBACzD;gBACD,MAAM;SACT;IACH,CAAC;IAED;;;;;;;;;;;;;OAaG;IAEK,cAAc,CAAC,SAAiB,EAAE,OAAe;QACvD,gCAAgC;QAChC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QACvB,MAAM,OAAO,GAAG,QAAQ,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;QAChD,MAAM,CAAC,GAAG,SAAS,KAAK,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,OAAO,CAAC,WAAW,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,WAAW,GAAG,GAAG,CAAC;QACjG,MAAM,MAAM,GAAG,SAAS,KAAK,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QACxD,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,CAAC,sBAAsB,EAAE,CAAC,CAAC;QAC3E,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC,UAAU,CAAC,GAAG,EAAE;YACtC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;YAC5B,uBAAuB;QACzB,CAAC,EAAE,IAAI,CAAC,sBAAsB,CAAC,CAAC;QAChC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;IAC7B,CAAC;IAEM,aAAa,CAAC,IAAY;QAC/B,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,IAAI,CAAC,sBAAsB,CAAC,CAAC;IACzD,CAAC;;;YAjPD,qDAAU;YAOV,oDAAS;YATT,4DAAiB;;;oBAgChB,sDAAW,SAAC,gBAAgB,cAC5B,gDAAK;qBAGL,sDAAW,SAAC,iBAAiB,cAC7B,gDAAK;oBAGL,gDAAK;0BAGL,gDAAK;uBAGL,iDAAM;qBAGN,iDAAM;oBAEN,iDAAM;wBAGN,sDAAW,SAAC,uBAAuB;oBAGnC,uDAAY,SAAC,KAAK,EAAE,CAAC,QAAQ,CAAC;uBAO9B,uDAAY,SAAC,QAAQ,EAAE,CAAC,QAAQ,CAAC;;AAzCvB,kBAAkB;IAH9B,wDAAS,CAAC;QACT,QAAQ,EAAE,eAAe;KAC1B,CAAC;GACW,kBAAkB,CA6N9B;AA7N8B;;;;;;;;;;;;;;;ACsB/B,IAAY,eAKX;AALD,WAAY,eAAe;IACzB,gCAAa;IACb,sCAAmB;IACnB,gCAAa;IACb,2CAAwB;AAC1B,CAAC,EALW,eAAe,KAAf,eAAe,QAK1B","sources":["./src/app/main/personal-shopper/card-wrapper.component.ts","./src/app/main/personal-shopper/personal-shopper-routing.module.ts","./src/app/main/personal-shopper/personal-shopper.module.ts","./src/app/main/personal-shopper/personal-shopper.page.ts","./src/app/main/swipeablecards.directive.ts","./src/shared/models/type.ts"],"sourcesContent":["import { Component, ContentChildren, QueryList } from '@angular/core';\nimport { SwipeableDirective } from '../swipeablecards.directive';\n\n@Component({\n  selector: 'sw-card-wrapper',\n  template: ` <ng-content></ng-content>`,\n  styles: [\n    `\n      :host {\n        position: relative;\n        display: block;\n      }\n    `,\n  ],\n})\nexport class CardWrapperComponent {\n  @ContentChildren(SwipeableDirective)\n  public cards: QueryList<SwipeableDirective>;\n\n  constructor() { }\n\n  public like(): void {\n    if (this.cards.first) {\n      this.cards.first.simulateSwipe(2);\n    }\n  }\n\n  /*public fixCard(fixValue: boolean): void {\n    this.cards.first.fixed = fixValue;\n  }*/\n\n  public dislike(): void {\n    if (this.cards.first) {\n      this.cards.first.simulateSwipe(4);\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { PersonalShopperPage } from './personal-shopper.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PersonalShopperPage,\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class PersonalShopperPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { PhotoViewer } from '@ionic-native/photo-viewer/ngx';\nimport { SharedModule } from 'src/shared/shared.module';\nimport { SwipeableDirective } from '../swipeablecards.directive';\nimport { CardWrapperComponent } from './card-wrapper.component';\nimport { PersonalShopperPageRoutingModule } from './personal-shopper-routing.module';\nimport { PersonalShopperPage } from './personal-shopper.page';\n\n@NgModule({\n  imports: [SharedModule, PersonalShopperPageRoutingModule],\n  providers: [PhotoViewer],\n  declarations: [PersonalShopperPage, SwipeableDirective, CardWrapperComponent],\n})\nexport class PersonalShopperPageModule {}\n","import { HttpClient } from '@angular/common/http';\nimport { Component, ElementRef, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { PushNotifications } from '@capacitor/push-notifications';\nimport { NgxSpinnerService } from 'ngx-spinner';\nimport { Subject } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\nimport { LocalStorageConstants } from 'src/app/app.constants';\nimport { ActionEventType, IEvent, IProduct } from 'src/shared/models/type';\nimport { FcmService } from 'src/shared/services/fcm.service';\nimport { PersonalShopperService } from 'src/shared/services/personal-shopper.service';\nimport { StorageService } from 'src/shared/services/storage.service';\nimport { PersonalShopperStateService } from 'src/shared/state/personal-shopper-state.service';\nimport { FirebaseAnalytics } from '@capacitor-community/firebase-analytics';\n\n@Component({\n  selector: 'app-personal-shopper',\n  templateUrl: './personal-shopper.page.html',\n  styleUrls: ['./personal-shopper.page.scss'],\n})\nexport class PersonalShopperPage implements OnInit {\n  currentIndex: number;\n  results = [];\n  choiceIndicator: string;\n  articleCards: IProduct[];\n  brands: any;\n  articleImageIndex = 0;\n  cardImage: ElementRef[];\n  errorStatus = null;\n  eventsChange$ = new Subject<IEvent[]>();\n  isArticleDetailsExtended = false;\n  tabBar: HTMLElement;\n\n  constructor(\n    private readonly spinner: NgxSpinnerService,\n    private readonly personalShopperState: PersonalShopperStateService,\n    private readonly storageService: StorageService,\n    private router: Router,\n    private personalShopperService: PersonalShopperService,\n    private fcmService: FcmService,\n  ) {\n  }\n  /*getDeliveredNotifications = async () => {\n    const notificationList = await PushNotifications.getDeliveredNotifications();\n    console.log('delivered notifications', notificationList.notifications);\n  };*/\n\n  ngOnInit(): void {\n    this.tabBar = document.getElementById('tab-bar');\n    //this.getDeliveredNotifications();\n    this.personalShopperState.getAvailableProductsAsObservable().subscribe(products => {\n      this.articleCards = products;\n      this.articleImageIndex = 0;\n    })\n    this.spinner.hide('guardSpinner');\n    this.currentIndex = this.articleCards.length - 1;\n    console.log(this.currentIndex);\n    this.brands = this.storageService.getJSONItemFromLocalStorage(\n      LocalStorageConstants.BRANDS_AS_MAP\n    );\n    this.eventsChange$.pipe(debounceTime(5000)).subscribe(result => {\n      this.results = [];\n      this.personalShopperService.sendEvent(result).catch(error => console.log(error));\n    });\n  }\n\n\n\n  changeImageDisplayed(direction: string, index: number) {\n    //this.spinner.show('spinner_image');\n    const element = <HTMLImageElement>document.getElementById(`myImage${index}`);\n    switch (direction) {\n      case 'left':\n        if (this.articleImageIndex > 0) {\n          this.articleImageIndex--;\n          element.src = this.articleCards[index].images[this.articleImageIndex];\n        }\n        break;\n      case 'right':\n        if (this.articleImageIndex < this.articleCards[index].images.length - 1) {\n          this.articleImageIndex++;\n          element.src = this.articleCards[index].images[this.articleImageIndex];\n        }\n        break;\n    }\n  }\n\n  swiped(event: any, index: number) {\n    console.log(this.articleCards[index].name + ' swiped ' + event + index);\n    this.articleCards[index].visible = false;\n    const actionEvent: IEvent = {\n      payload: {\n        product_id: this.articleCards[index].id,\n        version: 1,\n        action: event === 2 ? ActionEventType.LIKE : ActionEventType.DISLIKE,\n      },\n    };\n    this.results.push(actionEvent);\n    this.eventsChange$.next(this.results);\n    this.articleCards.splice(index, 1);\n    this.currentIndex--;\n    this.articleImageIndex = 0;\n    if (this.articleCards.length === 1) {\n      //todo: global observable ??\n      this.personalShopperState\n        .addNewProducts()\n        .subscribe(() => this.articleCards = this.personalShopperState.getAvailableProducts());\n    }\n  }\n\n  paned($event) {\n    //if ($event === 1) { this.choiceIndicator= ActionEventType.LOVE }\n    if ($event === 2) {\n      this.choiceIndicator = ActionEventType.LIKE;\n    }\n    //if ($event === 3) { this.choiceIndicator = ActionEventType.HATE}\n    if ($event === 4) {\n      this.choiceIndicator = ActionEventType.DISLIKE;\n    }\n    if ($event === undefined) {\n      this.choiceIndicator = null;\n    }\n  }\n\n  ionViewWillEnter() {\n    FirebaseAnalytics.setScreenName({\n      screenName: \"PersonalShopperScreen\",\n      nameOverride: \"PersonalShopperScreen\",\n    });\n    //this.spinner.show('spinner_image');\n    /* console.log('enter');\n    this.errorStatus = this.route.snapshot.paramMap.get(\"error\");\n    this.clotheIndexImg = 0;\n    this.brands = this.storageService.getJSONItemFromLocalStorage(LocalStorageConstants.BRANDS_AS_MAP);*/\n    //TODO/ change to observable\n    //    this.cardsTinder = this.persoShopperState.getAvailableProducts();\n    /*this.eventsChange$.pipe(debounceTime(5000)).subscribe((result) => {\n      this.eventsList = []\n      this.sendEvent({ events: result });\n    });*/\n  }\n\n  extendArticleDetails(index: any): void {\n    this.articleCards[index].detailsVisible = !this.articleCards[index].detailsVisible;\n    this.tabBar.style.display = this.articleCards[index].detailsVisible ? 'none' : 'flex';\n    //document.getElementById('card-content').style.padding = '0 0 0 0 !important';\n  }\n\n  ionViewDidEnter() {\n    this.spinner.hide('appSpinner');\n  }\n\n  doRefresh(event) {\n    this.router.navigate(['/main/personal-shopper']).then(() => event.target.complete());\n  }\n\n  imageLoaded(index: number) {\n    //this.spinner.hide('spinner_image');\n  }\n\n\n}\n","import {\n  ChangeDetectorRef,\n  Directive,\n  ElementRef,\n  EventEmitter,\n  HostBinding,\n  HostListener,\n  Input,\n  OnDestroy,\n  Output,\n  Renderer2,\n} from '@angular/core';\n\nenum Direction {\n  NONE = undefined,\n  Up = 1,\n  Right = 2,\n  Down = 3,\n  Left = 4,\n}\n\n@Directive({\n  selector: '[swSwipeable]',\n})\nexport class SwipeableDirective implements OnDestroy {\n  private readonly swipeAnimationDuration = 300;\n  private readonly animationDuration = 0;\n  private isReleased = false;\n  private element: HTMLElement;\n  private overlay: HTMLElement;\n  private releaseRadius: { x: number; y: number };\n  private timeoutId: number;\n\n  @HostBinding('style.width.px')\n  @Input()\n  public width: number;\n\n  @HostBinding('style.height.px')\n  @Input()\n  public height: number;\n\n  @Input()\n  public fixed = false;\n\n  @Input()\n  public orientation = 'x';\n\n  @Output()\n  public released = new EventEmitter();\n\n  @Output()\n  public swiped = new EventEmitter<number>();\n  @Output()\n  public paned = new EventEmitter<number>();\n\n  @HostBinding('class.swipe-card-heap')\n  public className = true;\n\n  @HostListener('pan', ['$event'])\n  onPan(event: any) {\n    if (this.allowSwipe) {\n      this.handleSwipeChange(event);\n    }\n  }\n\n  @HostListener('panend', ['$event'])\n  onPanEnd(event: any) {\n    if (this.allowSwipe) {\n      const direction = this.extractDirection(event);\n      direction ? this.handleSwipeEnd(direction, this.animationDuration) : this.handleCancelSwipe(direction);\n    }\n  }\n\n  get allowSwipe(): boolean {\n    return !this.fixed && !this.isReleased;\n  }\n\n  constructor(\n    protected el: ElementRef,\n    public renderer: Renderer2,\n    private readonly changeDetector: ChangeDetectorRef\n  ) {\n    this.element = el.nativeElement;\n    //\n  }\n  ngAfterContentChecked(): void {\n    //todo: too many events... maybe calculate height and width in tinder.component and give back through component\n  }\n  ngAfterViewInit() { }\n\n  ngOnDestroy(): void {\n    window.clearTimeout(this.timeoutId);\n  }\n\n  /*ngOnInit(): void {\n    this.initializeOverlay();\n  }\n\n  private initializeOverlay(): void {\n    this.overlay = document.createElement('div');\n    this.overlay.className = 'swipe-card-overlay';\n    this.renderer.appendChild(this.element, this.overlay);\n  }*/\n\n  private translate({ x, y, rotate = 0, duration = 0 }) {\n    const positionX = x && this.orientation.includes('x') ? x : 0;\n    const positionY = y && this.orientation.includes('y') ? y : 0;\n\n    this.renderer.setStyle(this.element, 'transition', `transform ${duration}ms ease`);\n    this.renderer.setStyle(\n      this.element,\n      'webkitTransform',\n      `translate3d(${positionX}px, ${positionY}px, 0) rotate(${rotate}deg)`\n    );\n  }\n\n  private handleSwipeChange(event: any) {\n    const direction: number = this.extractDirection(event);\n    const opacity = (Math.abs(event.distance) * 0.5) / this.element.offsetWidth;\n    //this.setBackgroundOverlay(direction, opacity);\n    this.translate({\n      x: event.deltaX,\n      y: event.deltaY,\n      rotate: (event.deltaX * 20) / this.element.clientWidth,\n    });\n    this.paned.emit(direction);\n  }\n\n  private handleCancelSwipe(direction: number) {\n    //this.resetBackgroundOverlay();\n    this.translate({\n      x: 0,\n      y: 0,\n      rotate: 0,\n      duration: this.swipeAnimationDuration,\n    });\n    this.paned.emit(direction);\n  }\n\n  //private destroy(duration: number) {\n  //this.resetElementStyles(duration);\n  //this.resetBackgroundOverlay();\n  //this.renderer.removeChild(this.element, this.overlay);\n  //this.overlay = null;\n  //}\n\n  /* private setBackgroundOverlay(direction: number, opacity: number) {\n    let color: string;\n    switch(direction){\n      case 1:\n      color = '104,159,56'\n      break;\n      case 2 :\n      color = '204,159,56'\n      break;\n      case 3 :\n      color = '204,204,56'\n      break;\n      case 4 :\n      color = '104,009,56'\n      break;\n    }\n    this.renderer.setStyle(this.overlay, 'transition', 'opacity 0s ease');\n    this.renderer.setStyle(this.overlay, 'background-color', `rgba(${color}, ${opacity.toString()})`);\n  }*/\n\n  /*private resetBackgroundOverlay(): void {\n    this.renderer.setStyle(this.overlay, 'transition', `opacity ${this.animationDuration}ms ease`);\n    this.renderer.setStyle(this.overlay, 'background-color', 'rgba(255,255,255,0)');\n  }*/\n\n  //private resetElementStyles(duration: number): void {\n  //  this.renderer.setStyle(this.element, 'transition', `transform ${duration}s ease`);\n  // this.renderer.setStyle(this.element, 'webkitTransform', 'translate3d(0, 0, 0) rotate(0deg)');\n  // }\n\n\n  private extractDirection(event): number {\n    const element = document.getElementById('host');\n    //const cs = getComputedStyle(element);\n    this.width = element.clientWidth; //element.offsetWidth - parseFloat(cs.paddingLeft) - parseFloat(cs.paddingRight);\n    this.height = element.clientHeight; //element.offsetHeight - parseFloat(cs.paddingTop) - parseFloat(cs.paddingBottom);\n    this.releaseRadius = { x: this.width / 3, y: this.height / 3 };\n    const conditionX =\n      this.orientation.includes('x') && this.releaseRadius.x < Math.abs(event.deltaX || 0);\n    const conditionY =\n      this.orientation.includes('y') && this.releaseRadius.y < Math.abs(event.deltaY || 0);\n    switch (this.orientation) {\n      case 'y':\n        if (conditionY) {\n          return event.deltaY > 0 ? Direction.Up : Direction.Down;\n        }\n        return Direction.NONE;\n        break;\n      case 'x':\n        if (conditionX) {\n          return event.deltaX > 0 ? Direction.Right : Direction.Left;\n        }\n        return Direction.NONE;\n        break;\n      case 'xy':\n        //todo improve\n        if (conditionX && conditionY) {\n          return Direction.NONE;\n        } else if (conditionX) {\n          return event.deltaX > 0 ? Direction.Right : Direction.Left;\n        } else if (conditionY) {\n          return event.deltaY > 0 ? Direction.Down : Direction.Up;\n        }\n        break;\n    }\n  }\n\n  /* private removeOverlay(direction: number): void {\n    const {offsetHeight, offsetWidth, clientHeight, clientWidth} = this.element;\n  const moveToY = direction === Direction.Up ? -1 : direction === Direction.Down ? 1 : 0;\n  const moveToX = direction === Direction.Right ? 1 : direction === Direction.Left ? -1 : 0;\n    const y = (offsetHeight + clientHeight) * moveToY;\n    const x = (offsetWidth + clientWidth) * moveToX;\n\n    this.setBackgroundOverlay(direction, 0.35);\n    this.translate({\n      x, y,\n      rotate: (x * 20) / clientWidth,\n      duration: 800\n    });\n  }*/\n\n  private handleSwipeEnd(direction: number, timeout: number): void {\n    //this.removeOverlay(direction);\n    this.isReleased = true;\n    const element = document.getElementById('host');\n    const x = direction === Direction.Right ? element.clientWidth + 100 : -element.clientWidth - 100;\n    const rotate = direction === Direction.Right ? 20 : -20;\n    this.translate({ x, y: 5, rotate, duration: this.swipeAnimationDuration });\n    this.timeoutId = window.setTimeout(() => {\n      this.swiped.emit(direction);\n      //this.released.emit();\n    }, this.swipeAnimationDuration);\n    this.paned.emit(undefined);\n  }\n\n  public simulateSwipe(like: number) {\n    this.handleSwipeEnd(like, this.swipeAnimationDuration);\n  }\n}\n","export interface IShopper {\n  avatar_s3_presigned_url?: string;\n  body_type?: string;\n  chest_circumference_cm?: number;\n  date_of_birth?: string;\n  description?: string;\n  email?: string;\n  first_name?: string;\n  gender_id?: number;\n  id?: string;\n  firebase_id?: string;\n  inserted_at?: string;\n  last_name?: string;\n  monthly_budget_euro?: string;\n  nickname?: string;\n  profile_name?: string;\n  size_cm?: number;\n  updated_at?: string;\n  weight_kg?: number;\n  swipe_filter?: { gender_id: number };\n}\n\nexport interface IUser {\n  created_at: string;\n  email: string;\n  email_verified: boolean;\n  identities: any;\n  last_ip: string;\n  last_login: string;\n  logins_count: number;\n  name: string;\n  nickname: string;\n  picture: string;\n  updated_at: string;\n  user_id: string;\n  user_metadata: any;\n}\n\nexport interface IEvent {\n  payload: {\n    product_id: string;\n    version: number;\n    action: string;\n  };\n}\n\nexport enum ActionEventType {\n  LIKE = 'like',\n  DISLIKE = 'dislike',\n  HATE = 'hate',\n  LOVE = 'add_to_wishlist',\n}\nexport interface IFilter {\n  name: string;\n  checked: boolean;\n}\n\n//used for pero-shopper page\nexport interface IProduct {\n  brand: number;\n  id: string;\n  images: string[];\n  like: number;\n  name: string;\n  price: string;\n  view: number;\n  visible?: boolean;\n  detailsVisible?: boolean;\n}\n\n//used in wardrobe page\nexport interface IArticle {\n  brand_id: number;\n  category_id: number;\n  color_ids: number[];\n  id: string;\n  images: any;\n  inserted_at: string;\n  price: number;\n  record_type: string;\n  second_hand: false;\n  size_id: number;\n  style_id: number;\n  fit_id?: number;\n  title: string;\n  updated_at: string;\n  user_id: string;\n}\n\nexport interface IFit {\n  fr_display: string,\n  id: number\n}\n\nexport interface IArticleImage {\n  id: string;\n  order: number;\n  s3_presigned_url: string;\n}\n\nexport interface IBrand {\n  fr_display: string;\n  id: number;\n  most_used: boolean;\n}\n\nexport interface ICategory {\n  ancestry?: string;\n  fr_display: string;\n  id: number;\n  selectable: boolean;\n  size_group_id: number;\n  sub_categories?: ICategory[];\n  wardrobe_additional_fields?: any;\n}\nexport interface IStyle {\n  id: string;\n  title: string;\n  tags: ISimpleObject[];\n  customer_generated: boolean;\n  season_id: number;\n  weather_id: number;\n  items: any; //IArticle[],\n  wear_at_night: boolean;\n  user_liked_count?: number\n}\n\nexport interface ISimpleObject {\n  [key: string]: string;\n}\n\n\n//TODO: reco type\nexport interface IRecoAdvice {\n  categories_to_add: string[],\n  possibilities: number\n}"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}