{"version":3,"file":"src_app_main_wardrobe_add-article-wardrobe_add-article-wardrobe_module_ts.js","mappings":"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","sources":["./src/app/main/wardrobe/add-article-wardrobe/add-article-wardrobe-routing.module.ts","./src/app/main/wardrobe/add-article-wardrobe/add-article-wardrobe.component.ts","./src/app/main/wardrobe/add-article-wardrobe/add-article-wardrobe.module.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { AddArticleWardrobeComponent } from './add-article-wardrobe.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AddArticleWardrobeComponent,\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AddArticleWardrobeRoutingModule {}\n","import { Location } from '@angular/common';\nimport { HttpClient } from '@angular/common/http';\nimport { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Camera, CameraResultType, CameraSource, Photo } from '@capacitor/camera';\nimport { ModalController } from '@ionic/angular';\nimport { AppConstants, LocalStorageConstants, WardRobeConstants } from 'src/app/app.constants';\nimport { AddArticleTitleDialog } from 'src/shared/components/add-article-title-dialog/add-article-title-dialog.component';\nimport { BrandsSelectModalComponent } from 'src/shared/components/brands-select-modal/brands-select-modal.component';\nimport { ColorsSelectModalComponent } from 'src/shared/components/colors-select-modal/colors-select-modal.component';\nimport { ModalContentPage } from 'src/shared/components/modal-content/modal-content.page';\nimport { IBrand } from 'src/shared/models/type';\nimport { UserPhoto } from 'src/shared/models/wardrobe.model';\nimport { StorageService } from 'src/shared/services/storage.service';\nimport { ToasterService } from 'src/shared/services/toaster.service';\nimport { WardrobeStateService } from 'src/shared/state/wardrobe-state.service';\nimport { RequiredConditionValidator } from 'src/shared/validators/required-condition.directive';\nimport { ImageCropModalComponent } from '../image-crop-modal/image-crop-modal.component';\nimport { FirebaseAnalytics } from '@capacitor-community/firebase-analytics';\nimport { NgxSpinnerService } from 'ngx-spinner';\n\n@Component({\n  selector: 'app-add-article-wardrobe',\n  templateUrl: './add-article-wardrobe.component.html',\n  styleUrls: ['./add-article-wardrobe.component.scss'],\n})\nexport class AddArticleWardrobeComponent implements OnInit {\n  tabBar: HTMLElement;\n  brands: IBrand[];\n  brandsMostUsed: IBrand[];\n\n  articleForm: FormGroup;\n  colors: any[];\n  sizeGroups: any;\n\n  public photos: UserPhoto[] = [\n    {\n      filepath: '',\n      webviewPath: '',\n    },\n    {\n      filepath: '',\n      webviewPath: '',\n    },\n  ];\n  photosbase64 = [];\n  selectedCategory = null;\n  selectedColorsIds = [];\n  categoryAncestors = [];\n  constructor(\n    private readonly fb: FormBuilder,\n    private modalController: ModalController,\n    private readonly http: HttpClient,\n    private readonly toasterService: ToasterService,\n    private readonly storageService: StorageService,\n    private readonly wardrobeState: WardrobeStateService,\n    private readonly location: Location,\n    private readonly spinner: NgxSpinnerService\n  ) { }\n\n  ionViewWillEnter() {\n    FirebaseAnalytics.setScreenName({\n      screenName: \"AddArticleScreen\",\n      nameOverride: \"AddArticleScreen\",\n    });\n    this.tabBar.style.display = 'none';\n    FirebaseAnalytics.logEvent({\n      name: \"add_article_started\",\n      params: {},\n    });\n  }\n  ionViewDidEnter() {\n    this.spinner.hide('appSpinner');\n  }\n  ionViewWillLeave() {\n    this.tabBar.style.display = 'flex';\n  }\n\n  ngOnInit() {\n    this.tabBar = document.getElementById('tab-bar');\n    this.initData();\n    this.initForm();\n    //this.categoryIndex = this.route.snapshot.paramMap.get('categoryIndex');\n    this.articleForm.controls['category'].valueChanges.subscribe(newValue => {\n      newValue?.wardrobe_additional_fields?.fit_id\n        ? this.initControlValidators('fit')\n        : this.resetControl('fit', '');\n      newValue.wardrobe_additional_fields?.size_id\n        ? this.initControlValidators('size')\n        : this.resetControl('size', '');\n    });\n  }\n\n  private initData(): void {\n    this.colors = this.storageService.getJSONItemFromLocalStorage(LocalStorageConstants.COLORS); //TODO: remplace by colorsMap\n    this.brands = this.storageService.getJSONItemFromLocalStorage(LocalStorageConstants.BRANDS);\n    this.brandsMostUsed = this.storageService.getJSONItemFromLocalStorage(\n      LocalStorageConstants.MOST_USED_BRANDS\n    );\n    this.sizeGroups = this.storageService.getJSONItemFromLocalStorage(\n      LocalStorageConstants.SIZE_GROUPS\n    );\n  }\n\n  private resetControl(control: string, value: string) {\n    this.articleForm.controls[control].reset(value);\n    this.articleForm.controls[control].removeValidators(Validators.required);\n    this.articleForm.controls[control].updateValueAndValidity();\n  }\n  private initControlValidators(control: string) {\n    this.articleForm.controls[control].setValidators(Validators.required);\n  }\n\n  private initForm() {\n    this.articleForm = this.fb.group(\n      {\n        //title: ['', [Validators.required, Validators.maxLength(32)]],\n        brand: ['', Validators.required],\n        category: ['', Validators.required],\n        price: ['', [Validators.required, Validators.pattern('^[0-9]*$')]],\n        color: ['', Validators.required],\n        size: [''],\n        second_hand: ['', Validators.required],\n        fit: [''],\n      },\n      {\n        validators: [RequiredConditionValidator('size'), RequiredConditionValidator('fit')],\n      }\n    );\n  }\n\n  async presentCategoriesModal() {\n    const modal = await this.modalController.create({\n      component: ModalContentPage,\n      componentProps: {\n        currentCategory: this.selectedCategory,\n      },\n    });\n    modal.onDidDismiss().then(category => {\n      if (category.data?.categoryValue && category.data) {\n        this.articleForm.controls['size'].reset();\n        this.selectedCategory = category.data.categoryValue;\n        this.articleForm.controls['category'].setValue(category.data.categoryValue, {\n          emitEvent: true,\n        });\n        this.categoryAncestors = category.data.ancestors;\n      } else if (category.data) {\n        //reset controls category\n        this.articleForm.controls['size'].reset();\n        this.selectedCategory = category.data.categoryValue;\n        this.articleForm.controls['category'].reset();\n      }\n    });\n    await modal.present();\n  }\n\n  async presentColorsModal() {\n    const modal = await this.modalController.create({\n      component: ColorsSelectModalComponent,\n      componentProps: {\n        currentCategory: this.selectedColorsIds,\n      },\n    });\n    modal.onDidDismiss().then(category => {\n      if (category.data) {\n        const colorsIds = category.data.map(color => color.id);\n        this.selectedColorsIds = category.data;\n        const colorsName = category.data.map(color => color.fr_display);\n        this.articleForm.controls['color'].setValue({\n          colorsName,\n          colorsIds,\n        });\n      }\n    });\n    await modal.present();\n  }\n\n  async presentBrandsModal() {\n    const modal = await this.modalController.create({\n      component: BrandsSelectModalComponent,\n      componentProps: {\n        currentBrand: this.articleForm.get('brand').value,\n      },\n    });\n    modal.onDidDismiss().then(brand => {\n      if (brand.data) {\n        const value = brand.data;\n        this.articleForm.patchValue(\n          {\n            brand: value,\n          },\n          {\n            onlySelf: false,\n            emitEvent: false,\n          }\n        );\n      }\n    });\n    await modal.present();\n  }\n\n  public async addPhotoToGallery(index: number) {\n    // Take a photo\n    const capturedPhoto = await Camera.getPhoto({\n      resultType: CameraResultType.Uri,\n      source: CameraSource.Prompt,\n      promptLabelPhoto: \"Depuis votre galerie\",\n      promptLabelPicture: \"Prendre une photo\",\n      quality: 100,\n      allowEditing: false,\n      height: 1100,\n      width: 1000,\n    }).then(photo => {\n      this.readAsBase64(photo).then(base64 => {\n        console.log(this.calc_image_size(base64));\n        this.show(base64).then(result => {\n          console.log(this.calc_image_size(result));\n          if (result.includes('data:image/png;base64,')) {\n            const plop = result.replace('data:image/png;base64,', '');\n            this.photosbase64[index] = {\n              order: index + 1,\n              image_base64: plop,\n            };\n          }\n          this.photos[index] = {\n            filepath: 'soon...',\n            webviewPath: result,\n          };\n        });\n      });\n    });\n    //const plop = plip.replace('data:image/png;base64,', '');\n    /* this.photosbase64[index] = {\n       order: index + 1,\n       image_base64: plop\n     };\n     this.photos[index] = {\n       filepath: \"soon...\",\n       webviewPath: capturedPhoto.webPath\n     };*/\n  }\n  calc_image_size(image) {\n    let y = 1;\n    if (image.endsWith('==')) {\n      y = 2;\n    }\n    const x_size = image.length * (3 / 4) - y;\n    return Math.round(x_size / 1024);\n  }\n\n  private async readAsBase64(photo: Photo) {\n    // \"hybrid\" will detect Cordova or Capacitor\n    /* if (this.platform.is('hybrid')) {\n       // Read the file into base64 format\n       const file = await Filesystem.readFile({\n         path: photo.path\n       });\n \n       return file.data;\n     }\n     else {*/\n    // Fetch the photo, read as a blob, then convert to base64 format\n    const response = await fetch(photo.webPath);\n    const blob = await response.blob();\n\n    return (await this.convertBlobToBase64(blob)) as string;\n\n    // }\n  }\n\n  convertBlobToBase64 = (blob: Blob) =>\n    new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.onerror = reject;\n      reader.onload = () => {\n        resolve(reader.result);\n      };\n      reader.readAsDataURL(blob);\n    });\n\n  async onSave() {\n    const articlesInfos = this.articleForm.value;\n    const titleDialog = await this.modalController.create({\n      component: AddArticleTitleDialog,\n      componentProps: {\n        title: `${articlesInfos.category.fr_display} ${articlesInfos.brand.fr_display} ${articlesInfos.color.colorsName}`,\n        article: articlesInfos,\n      },\n      cssClass: 'article-title-modal',\n    });\n    titleDialog.onDidDismiss().then(titleModal => {\n      if (titleModal.data?.title) {\n        const articlesInfos = this.articleForm.value;\n        const colors = articlesInfos.color.colorsIds;\n        const item = {\n          images: this.photosbase64,\n          brand_id: articlesInfos.brand.id,\n          category_id: articlesInfos.category.id,\n          price: articlesInfos.price,\n          second_hand: articlesInfos.second_hand,\n          size_id: articlesInfos.size ? Number(articlesInfos.size) : null,\n          title: titleModal.data.title,\n          color_ids: colors,\n          fit_id: articlesInfos.fit,\n        };\n        this.spinner.show(\"appSpinner\")\n        return this.http.post(AppConstants.itemsUrl, { item }, { observe: 'response' }).subscribe(\n          (response: any) => {\n            FirebaseAnalytics.logEvent({\n              name: \"add_article_finished\",\n              params: {},\n            });\n            this.toasterService.presentSuccessToast(`MESSAGE.WARDROBE_ITEMS.${response.status}`);\n            const rightCategoryIndex = this.findCategoryIndex(this.categoryAncestors);\n            this.wardrobeState.addArticleInCategory(response.body.data, rightCategoryIndex);\n            if (!titleModal.data.isRemember) {\n              this.articleForm.reset();\n              this.selectedColorsIds = [];\n              this.photosbase64 = [];\n              this.selectedCategory = null;\n              this.location.back();\n            } else {\n              this.articleForm.controls['color'].reset();\n              this.selectedColorsIds = [];\n              this.articleForm.controls['brand'].reset();\n              this.articleForm.controls['price'].reset();\n              this.photosbase64 = [];\n            }\n            this.photos = [\n              {\n                filepath: '',\n                webviewPath: '',\n              },\n              {\n                filepath: '',\n                webviewPath: '',\n              },\n            ];\n            this.spinner.hide(\"appSpinner\")\n          },\n          error => {\n            this.toasterService.presentErrorToast(`MESSAGE.WARDROBE_ITEMS.${error.status}`);\n            this.spinner.hide(\"appSpinner\")\n          }\n        );\n      }\n    });\n    await titleDialog.present();\n  }\n\n  findCategoryIndex(ancestors: string[]): string {\n    const plop = ancestors.filter(\n      index => WardRobeConstants.categoriesIndex.indexOf(index.toString()) !== -1\n    )[0];\n    return plop;\n  }\n\n  async show(imageBase64: string): Promise<string | null> {\n    const modal: HTMLIonModalElement = await this.modalController.create({\n      component: ImageCropModalComponent,\n      backdropDismiss: false,\n      componentProps: {\n        imageBase64,\n        aspectRatio: 1 / 1.1,\n      },\n    });\n\n    await modal.present();\n\n    const result = await modal.onWillDismiss();\n\n    if (result.data && result.data.croppedImageBase64) {\n      return result.data.croppedImageBase64;\n    }\n\n    return null;\n  }\n}\n","import { CurrencyPipe } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { IonicSelectableModule } from 'ionic-selectable';\nimport { SharedModule } from 'src/shared/shared.module';\nimport { ImageCropModalComponent } from '../image-crop-modal/image-crop-modal.component';\nimport { AddArticleWardrobeRoutingModule } from './add-article-wardrobe-routing.module';\nimport { AddArticleWardrobeComponent } from './add-article-wardrobe.component';\n\n@NgModule({\n  imports: [\n    SharedModule,\n    ReactiveFormsModule,\n    AddArticleWardrobeRoutingModule,\n    IonicSelectableModule,\n  ],\n  declarations: [AddArticleWardrobeComponent],\n  providers: [CurrencyPipe],\n})\nexport class AddArticleWardrobeModule { }\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}