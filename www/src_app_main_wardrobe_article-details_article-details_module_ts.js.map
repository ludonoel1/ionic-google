{"version":3,"file":"src_app_main_wardrobe_article-details_article-details_module_ts.js","mappings":"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","sources":["./src/app/main/wardrobe/article-details/article-details-routing.module.ts","./src/app/main/wardrobe/article-details/article-details.component.ts","./src/app/main/wardrobe/article-details/article-details.module.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { ArticleDetailsComponent } from './article-details.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ArticleDetailsComponent,\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ArticleDetailsRoutingModule {}\n","import { Location } from '@angular/common';\nimport { HttpClient } from '@angular/common/http';\nimport { ChangeDetectorRef, Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { AlertController } from '@ionic/angular';\nimport { NgxSpinnerService } from 'ngx-spinner';\nimport { AppConstants, LocalStorageConstants } from 'src/app/app.constants';\nimport { IArticle } from 'src/shared/models/type';\nimport { StorageService } from 'src/shared/services/storage.service';\nimport { ToasterService } from 'src/shared/services/toaster.service';\nimport { WardrobeStateService } from 'src/shared/state/wardrobe-state.service';\n\n@Component({\n  selector: 'app-article-details',\n  templateUrl: './article-details.component.html',\n  styleUrls: ['./article-details.component.scss'],\n})\nexport class ArticleDetailsComponent implements OnInit {\n  currentArticle;\n  currency = 'EUR'; //TODO: modify with local\n  locale = 'fr';\n  fitsMap: any;\n  sizesMap: any;\n  brandsMap: any;\n  categoriesMap: any;\n  colors: any;\n  currentImageIndex = 0;\n  slidesOptions = {\n    allowSlideNext: false,\n    allowSlidePrev: false,\n  };\n  constructor(\n    private readonly route: ActivatedRoute,\n    private readonly wardrobeState: WardrobeStateService,\n    private readonly storageService: StorageService,\n    private readonly cd: ChangeDetectorRef,\n    private readonly alert: AlertController,\n    private readonly http: HttpClient,\n    private readonly toaster: ToasterService,\n    private readonly location: Location,\n    private readonly router: Router,\n    private readonly spinner: NgxSpinnerService\n  ) { }\n\n  ngOnInit() {\n    this.brandsMap = this.storageService.getJSONItemFromLocalStorage(\n      LocalStorageConstants.BRANDS_AS_MAP\n    );\n    this.sizesMap = this.storageService.getJSONItemFromLocalStorage(\n      LocalStorageConstants.SIZE_GROUPS_AS_MAP\n    );\n    this.categoriesMap = this.storageService.getJSONItemFromLocalStorage(\n      LocalStorageConstants.CATEGORIES_AS_MAP\n    );\n    this.colors = this.storageService.getJSONItemFromLocalStorage(\n      LocalStorageConstants.COLORS_AS_MAP\n    );\n    this.fitsMap = this.storageService.getJSONItemFromLocalStorage(\n      LocalStorageConstants.FITS_AS_MAP\n    );\n    const ancestorCategory = this.categoriesMap[this.route.snapshot.paramMap.get('categoryId')].ancestry.split('.')[0];\n    this.wardrobeState.getArticleByIdAndCategory(ancestorCategory, this.route.snapshot.paramMap.get('id')).asObservable().subscribe((articles: IArticle[]) => {\n      this.currentArticle = articles.find(article => article.id === this.route.snapshot.paramMap.get('id'))\n      this.slidesOptions.allowSlideNext = this.currentArticle.images.length > 1;\n      this.slidesOptions.allowSlidePrev = this.currentArticle.images.length > 1;\n    })\n  }\n\n  /*swipeElementImage(enter: string, index: number) {\n    let element = (<HTMLImageElement>document.getElementById(`articleImg`));\n    switch (enter) {\n      case 'left':\n        if (this.currentImageIndex > 0) {\n          this.currentImageIndex--;\n          element.src = this.currentArticle.images[this.currentImageIndex].s3_presigned_url;\n        }\n        break;\n      case 'right':\n        if (this.currentImageIndex < this.currentArticle.images.length - 1) {\n          this.currentImageIndex++;\n          element.src = this.currentArticle.images[this.currentImageIndex].s3_presigned_url;\n        }\n        break;\n    }\n    this.cd.detectChanges();\n  }\n\n  deleteArticle() {\n\n  }*/\n\n  ionViewDidEnter() {\n    this.spinner.hide('appSpinner')\n  }\n\n  async onDisplayAlert() {\n    const alert = await this.alert.create({\n      message: `${this.currentArticle.title} sera supprimÃ© de votre garde robe Younzee`,\n      buttons: [\n        {\n          text: 'Supprimer',\n          id: 'modal-deletearticle-button',\n          cssClass: 'alert-delete-button',\n          handler: () => {\n            console.log('Confirm Okay');\n            this.http\n              .post(\n                `${AppConstants.itemsUrl}/bulk_delete`,\n                { item_ids: [this.currentArticle.id] },\n                { observe: 'response' }\n              )\n              .subscribe(result => {\n                this.wardrobeState.deleteItemsInAll((result.body as any).deleted_ids, [this.currentArticle]);\n                this.toaster.presentSuccessToast(`MESSAGE.WARDROBE_ITEMS.DELETE`);\n                this.location.back();\n              }),\n              error => {\n                console.log(error);\n              };\n          },\n        },\n        {\n          text: 'Annuler',\n          role: 'cancel',\n          id: 'modal-canceldeletearticle-button',\n          cssClass: 'alert-cancel-button',\n          handler: blah => {\n            console.log('Confirm Cancel: blah');\n          },\n        },\n      ],\n      backdropDismiss: false,\n    });\n\n    await alert.present();\n  }\n\n  onModifyArticle() {\n    this.router.navigate(['main/wardrobe/modify-article', JSON.stringify(this.currentArticle)]);\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { SharedModule } from 'src/shared/shared.module';\nimport { ArticleDetailsRoutingModule } from './article-details-routing.module';\nimport { ArticleDetailsComponent } from './article-details.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    ReactiveFormsModule,\n    IonicModule,\n    SharedModule,\n    ArticleDetailsRoutingModule,\n  ],\n  declarations: [ArticleDetailsComponent],\n  providers: [],\n})\nexport class ArticleDetailsModule {}\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}