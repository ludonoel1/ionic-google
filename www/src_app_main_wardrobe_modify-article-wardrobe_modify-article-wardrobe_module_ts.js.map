{"version":3,"file":"src_app_main_wardrobe_modify-article-wardrobe_modify-article-wardrobe_module_ts.js","mappings":"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","sources":["./src/app/main/wardrobe/modify-article-wardrobe/modify-article-wardrobe-routing.module.ts","./src/app/main/wardrobe/modify-article-wardrobe/modify-article-wardrobe.component.ts","./src/app/main/wardrobe/modify-article-wardrobe/modify-article-wardrobe.module.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { ModifyArticleWardrobeComponent } from './modify-article-wardrobe.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ModifyArticleWardrobeComponent,\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ModifyArticleWardrobeRoutingModule {}\n","import { Location } from '@angular/common';\nimport { HttpClient } from '@angular/common/http';\nimport { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { ActivatedRoute } from '@angular/router';\nimport { Camera, CameraResultType, CameraSource, Photo } from '@capacitor/camera';\nimport { ModalController } from '@ionic/angular';\nimport { NgxSpinnerService } from 'ngx-spinner';\nimport { AppConstants, LocalStorageConstants, WardRobeConstants } from 'src/app/app.constants';\nimport { BrandsSelectModalComponent } from 'src/shared/components/brands-select-modal/brands-select-modal.component';\nimport { ColorsSelectModalComponent } from 'src/shared/components/colors-select-modal/colors-select-modal.component';\nimport { ModalContentPage } from 'src/shared/components/modal-content/modal-content.page';\nimport { SizesSelectModalComponent } from 'src/shared/components/sizes-select-modal/sizes-select-modal.component';\nimport { IArticle, IBrand, IFit } from 'src/shared/models/type';\nimport { StorageService } from 'src/shared/services/storage.service';\nimport { ToasterService } from 'src/shared/services/toaster.service';\nimport { WardrobeStateService } from 'src/shared/state/wardrobe-state.service';\nimport { RequiredConditionValidator } from 'src/shared/validators/required-condition.directive';\nimport { ImageCropModalComponent } from '../image-crop-modal/image-crop-modal.component';\n\n@Component({\n  selector: 'app-modify-article-wardrobe',\n  templateUrl: './modify-article-wardrobe.component.html',\n  styleUrls: ['./modify-article-wardrobe.component.scss'],\n})\nexport class ModifyArticleWardrobeComponent implements OnInit {\n  tabBar: HTMLElement;\n  brands: IBrand[];\n  brandsMostUsed: IBrand[];\n  currentArticle: IArticle;\n  articleForm: FormGroup;\n  colors: any[];\n  sizeGroups: any;\n\n  public photos = [];\n  categoriesMap: any;\n  photosbase64 = [];\n  selectedCategory = null;\n  selectedColorsIds = [];\n  categoryAncestors = [];\n  fitAsMap: Map<number, IFit>;\n  constructor(\n    private readonly fb: FormBuilder,\n    private modalController: ModalController,\n    private readonly http: HttpClient,\n    private readonly toasterService: ToasterService,\n    private readonly storageService: StorageService,\n    private readonly wardrobeState: WardrobeStateService,\n    private readonly route: ActivatedRoute,\n    private readonly location: Location,\n    private readonly spinner: NgxSpinnerService\n  ) { }\n\n  ionViewWillEnter() {\n    this.tabBar.style.display = 'none';\n  }\n\n  ionViewWillLeave() {\n    this.tabBar.style.display = 'flex';\n  }\n\n  ngOnInit() {\n    this.currentArticle = JSON.parse(this.route.snapshot.paramMap.get('article'));\n    console.log(this.currentArticle)\n    this.tabBar = document.getElementById('tab-bar');\n    this.initData();\n    this.initForm();\n    //this.categoryIndex = this.route.snapshot.paramMap.get('categoryIndex');\n  }\n\n  private initData(): void {\n    this.colors = this.storageService.getJSONItemFromLocalStorage(\n      LocalStorageConstants.COLORS_AS_MAP\n    ); //TODO: remplace by colorsMap\n    this.brands = this.storageService.getJSONItemFromLocalStorage(\n      LocalStorageConstants.BRANDS_AS_MAP\n    );\n    this.brandsMostUsed = this.storageService.getJSONItemFromLocalStorage(\n      LocalStorageConstants.MOST_USED_BRANDS\n    );\n    this.sizeGroups = this.storageService.getJSONItemFromLocalStorage(\n      LocalStorageConstants.SIZE_GROUPS_AS_MAP\n    );\n    this.categoriesMap = this.storageService.getJSONItemFromLocalStorage(\n      LocalStorageConstants.CATEGORIES_AS_MAP\n    );\n    this.fitAsMap = this.storageService.getJSONItemFromLocalStorage(\n      LocalStorageConstants.FITS_AS_MAP\n    );\n  }\n\n  private initForm() {\n    this.selectedColorsIds = this.currentArticle.color_ids.map(id => this.colors[id]);\n    const colorsName = this.selectedColorsIds.map(color => color.fr_display);\n    const colors = {\n      colorsName,\n      colorsIds: this.currentArticle.color_ids,\n    };\n    this.articleForm = this.fb.group(\n      {\n        title: [this.currentArticle.title, [Validators.required]],\n        price: [this.currentArticle.price, [Validators.required, Validators.pattern('^[0-9]*$')]],\n        color: [colors, Validators.required],\n        brand: [this.brands[this.currentArticle.brand_id], Validators.required],\n        category: [this.categoriesMap[this.currentArticle.category_id], Validators.required],\n        size: [\n          this.currentArticle?.size_id >= 0 ? this.sizeGroups[this.currentArticle.size_id] : '',\n        ],\n        second_hand: [this.currentArticle.second_hand, Validators.required],\n        fit: [this.currentArticle?.fit_id >= 0 ? this.currentArticle.fit_id.toString() : ''],\n      },\n      {\n        validators: [RequiredConditionValidator('size'), RequiredConditionValidator('fit')],\n      }\n    );\n    this.currentArticle.images.forEach((image, index) => {\n      this.photos[index] = image;\n      /*this.photosbase64[index] = {\n        order: index + 1,\n        image_base64: plop\n      */\n    });\n  }\n\n  async presentCategoriesModal() {\n    const modal = await this.modalController.create({\n      component: ModalContentPage,\n      componentProps: {\n        currentCategory: this.articleForm.controls['category'].value,\n      },\n    });\n    modal.onDidDismiss().then(category => {\n      if (category.data?.categoryValue && category.data) {\n        this.articleForm.controls['size'].reset();\n        this.selectedCategory = category.data.categoryValue;\n        this.articleForm.controls['category'].setValue(category.data.categoryValue, {\n          emitEvent: false,\n        });\n        this.categoryAncestors = category.data.ancestors;\n      } else if (category.data) {\n        //reset controls category\n        this.articleForm.controls['size'].reset();\n        this.selectedCategory = category.data.categoryValue;\n        this.articleForm.controls['category'].reset();\n      }\n    });\n    await modal.present();\n  }\n\n  async presentColorsModal() {\n    const modal = await this.modalController.create({\n      component: ColorsSelectModalComponent,\n      componentProps: {\n        currentCategory: this.selectedColorsIds,\n      },\n    });\n    modal.onDidDismiss().then(category => {\n      if (category.data) {\n        const colorsIds = category.data.map(color => color.id);\n        this.selectedColorsIds = category.data;\n        const colorsName = category.data.map(color => color.fr_display);\n        this.articleForm.controls['color'].setValue({\n          colorsName,\n          colorsIds,\n        });\n      }\n    });\n    await modal.present();\n  }\n\n  async presentSizeModal() {\n    const modal = await this.modalController.create({\n      component: SizesSelectModalComponent,\n      componentProps: {\n        currentCategory: this.articleForm.controls['category'].value,\n        currentSize: this.articleForm.controls['size'].value,\n      },\n    });\n    modal.onDidDismiss().then(size => {\n      if (size.data) {\n        this.currentArticle.size_id = size.data.id;\n        this.articleForm.controls['size'].setValue(size.data)\n      }\n    });\n    await modal.present();\n  }\n\n  async presentBrandsModal() {\n    const modal = await this.modalController.create({\n      component: BrandsSelectModalComponent,\n      componentProps: {\n        currentBrand: this.articleForm.get('brand').value,\n      },\n    });\n    modal.onDidDismiss().then(brand => {\n      if (brand.data) {\n        const value = brand.data;\n        this.articleForm.patchValue(\n          {\n            brand: value,\n          },\n          {\n            onlySelf: false,\n            emitEvent: false,\n          }\n        );\n      }\n    });\n    await modal.present();\n  }\n\n  ionViewDidEnter() {\n    this.spinner.hide('appSpinner')\n  }\n\n  public async addPhotoToGallery(index: number) {\n    // Take a photo\n    const capturedPhoto = await Camera.getPhoto({\n      resultType: CameraResultType.Uri,\n      source: CameraSource.Prompt,\n      promptLabelPhoto: \"Depuis votre galerie\",\n      promptLabelPicture: \"Prendre une photo\",\n      quality: 100,\n      height: 1100,\n      width: 1000,\n    }).then(photo => {\n      this.readAsBase64(photo).then(base64 => {\n        console.log(this.calc_image_size(base64));\n        this.show(base64).then(result => {\n          console.log(this.calc_image_size(result));\n          if (result.includes('data:image/png;base64,')) {\n            this.photos[index] = {\n              order: index + 1,\n              image_base64: result,\n            };\n          }\n        });\n      });\n    });\n    //const plop = plip.replace('data:image/png;base64,', '');\n    /* this.photosbase64[index] = {\n       order: index + 1,\n       image_base64: plop\n     };\n     this.photos[index] = {\n       filepath: \"soon...\",\n       webviewPath: capturedPhoto.webPath\n     };*/\n  }\n  calc_image_size(image) {\n    let y = 1;\n    if (image.endsWith('==')) {\n      y = 2;\n    }\n    const x_size = image.length * (3 / 4) - y;\n    return Math.round(x_size / 1024);\n  }\n\n  private async readAsBase64(photo: Photo) {\n    // \"hybrid\" will detect Cordova or Capacitor\n    /* if (this.platform.is('hybrid')) {\n       // Read the file into base64 format\n       const file = await Filesystem.readFile({\n         path: photo.path\n       });\n \n       return file.data;\n     }\n     else {*/\n    // Fetch the photo, read as a blob, then convert to base64 format\n    const response = await fetch(photo.webPath);\n    const blob = await response.blob();\n\n    return (await this.convertBlobToBase64(blob)) as string;\n\n    // }\n  }\n\n  convertBlobToBase64 = (blob: Blob) =>\n    new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.onerror = reject;\n      reader.onload = () => {\n        resolve(reader.result);\n      };\n      reader.readAsDataURL(blob);\n    });\n\n  async onSave() {\n    const articlesInfos = this.articleForm.value;\n    const colors = articlesInfos.color.colorsIds;\n    const pictures = [];\n    this.photos.forEach(image => {\n      if (image.image_base64) {\n        const base64 = image.image_base64.replace('data:image/png;base64,', '');\n        image.image_base64 = base64;\n        pictures.push(image);\n      } else {\n        pictures.push(image);\n      }\n    });\n    const item = {\n      images: pictures,\n      brand_id: articlesInfos.brand.id,\n      category_id: articlesInfos.category.id,\n      price: articlesInfos.price,\n      second_hand: articlesInfos.second_hand,\n      title: articlesInfos.title,\n      color_ids: colors,\n      id: this.currentArticle.id,\n    };\n    if (articlesInfos.size) {\n      item['size_id'] = Number(articlesInfos.size.id);\n    }\n    if (articlesInfos.fit) {\n      item['fit_id'] = Number(articlesInfos.fit);\n    }\n    //todo: refacto\n    const rightCategoryIndex = this.categoriesMap[articlesInfos.category.id].ancestry.split('.')[0];\n    return (\n      this.http\n        .patch(`${AppConstants.itemsUrl}/${this.currentArticle.id}`, item, { observe: 'response' })\n        .subscribe((response: any) => {\n          this.toasterService.presentSuccessToast(`MESSAGE.PROFILE.EDIT_${response.status}`);\n          this.wardrobeState.updateArticleInCategory(response.body.data, rightCategoryIndex);\n          this.wardrobeState.hasArticleModified(response.body.data);\n          this.location.back();\n        }),\n      error => {\n        this.toasterService.presentErrorToast(error.status);\n        //Error callback\n        //this.loading = false;\n      }\n    );\n  }\n\n  findCategoryIndex(ancestors: string[]): string {\n    const plop = ancestors.filter(\n      index => WardRobeConstants.categoriesIndex.indexOf(index.toString()) !== -1\n    )[0];\n    return plop;\n  }\n\n  async show(imageBase64: string): Promise<string | null> {\n    const modal: HTMLIonModalElement = await this.modalController.create({\n      component: ImageCropModalComponent,\n      backdropDismiss: false,\n      componentProps: {\n        imageBase64,\n        aspectRatio: 1 / 1.1,\n      },\n    });\n\n    await modal.present();\n\n    const result = await modal.onWillDismiss();\n\n    if (result.data && result.data.croppedImageBase64) {\n      return result.data.croppedImageBase64;\n    }\n\n    return null;\n  }\n}\n","import { CurrencyPipe } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { IonicSelectableModule } from 'ionic-selectable';\nimport { SharedModule } from 'src/shared/shared.module';\nimport { ModifyArticleWardrobeRoutingModule } from './modify-article-wardrobe-routing.module';\nimport { ModifyArticleWardrobeComponent } from './modify-article-wardrobe.component';\n\n@NgModule({\n  imports: [\n    SharedModule,\n    ReactiveFormsModule,\n    ModifyArticleWardrobeRoutingModule,\n    IonicSelectableModule,\n  ],\n  declarations: [ModifyArticleWardrobeComponent],\n  providers: [CurrencyPipe],\n})\nexport class ModifyArticleWardrobeModule {}\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}