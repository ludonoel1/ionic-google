{"version":3,"file":"src_app_main_wardrobe_style-details_style-details_module_ts.js","mappings":"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","sources":["./src/app/main/wardrobe/style-details/style-details-routing.module.ts","./src/app/main/wardrobe/style-details/style-details.component.ts","./src/app/main/wardrobe/style-details/style-details.module.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { StyleDetailsComponent } from './style-details.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: StyleDetailsComponent,\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class StyleDetailsRoutingModule {}\n","import { Location } from '@angular/common';\nimport { HttpClient } from '@angular/common/http';\nimport { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { AlertController } from '@ionic/angular';\nimport { NgxSpinnerService } from 'ngx-spinner';\nimport { AppConstants, LocalStorageConstants } from 'src/app/app.constants';\nimport { IStyle } from 'src/shared/models/type';\nimport { StorageService } from 'src/shared/services/storage.service';\nimport { ToasterService } from 'src/shared/services/toaster.service';\nimport { WardrobeStateService } from 'src/shared/state/wardrobe-state.service';\n\n@Component({\n  selector: 'app-style-details',\n  templateUrl: './style-details.component.html',\n  styleUrls: ['./style-details.component.scss'],\n})\nexport class StyleDetailsComponent implements OnInit {\n  currentStyle;\n  currency = 'EUR'; //TODO: modify with local\n  locale = 'fr';\n  fitsMap: any;\n  sizesMap: any;\n  brandsMap: any;\n  categoriesMap: any;\n  colors: any;\n  currentImageIndex = 0;\n  styleImages = new Map<string, any[]>([\n    ['FAM_01', []],\n    ['FAM_02', []],\n    ['FAM_03', []],\n  ]);\n  constructor(\n    private readonly route: ActivatedRoute,\n    private readonly wardrobeState: WardrobeStateService,\n    private readonly storageService: StorageService,\n    private readonly alert: AlertController,\n    private readonly http: HttpClient,\n    private readonly toaster: ToasterService,\n    private readonly location: Location,\n    private readonly router: Router,\n    private readonly spinner: NgxSpinnerService\n  ) { }\n\n  ngOnInit() {\n    this.brandsMap = this.storageService.getJSONItemFromLocalStorage(\n      LocalStorageConstants.BRANDS_AS_MAP\n    );\n    this.sizesMap = this.storageService.getJSONItemFromLocalStorage(\n      LocalStorageConstants.SIZE_GROUPS_AS_MAP\n    );\n    this.categoriesMap = this.storageService.getJSONItemFromLocalStorage(\n      LocalStorageConstants.CATEGORIES_AS_MAP\n    );\n    this.colors = this.storageService.getJSONItemFromLocalStorage(\n      LocalStorageConstants.COLORS_AS_MAP\n    );\n    this.fitsMap = this.storageService.getJSONItemFromLocalStorage(\n      LocalStorageConstants.FITS_AS_MAP\n    );\n    this.currentStyle = JSON.parse(this.route.snapshot.paramMap.get('style'));\n    this.currentStyle.items.forEach(item => {\n      const category = this.categoriesMap[item.category_id].ancestry.split('.')[0];\n      const images = this.styleImages.get(category);\n      images.push(item.images[0]);\n      this.styleImages.set(category, images);\n    });\n    this.wardrobeState.styleModifiedEvent.subscribe((styleModified: IStyle) => {\n      this.currentStyle = styleModified;\n      this.styleImages = new Map<string, any[]>([\n        ['FAM_01', []],\n        ['FAM_02', []],\n        ['FAM_03', []],\n      ]);\n      this.currentStyle.items.forEach(item => {\n        const category = this.categoriesMap[item.category_id].ancestry.split('.')[0];\n        const images = this.styleImages.get(category);\n        images.push(item.images[0]);\n        this.styleImages.set(category, images);\n      });\n    });\n  }\n\n  ionViewDidEnter() {\n    this.spinner.hide('appSpinner')\n  }\n\n  async onDisplayAlert() {\n    const alert = await this.alert.create({\n      message: `${this.currentStyle.title} sera supprimÃ© de votre garde robe Younzee`,\n      buttons: [\n        {\n          text: 'Supprimer',\n          cssClass: 'alert-delete-button',\n          handler: () => {\n            this.http\n              .post(\n                `${AppConstants.styleUrl}/bulk_delete`,\n                { style_ids: [this.currentStyle.id] },\n                { observe: 'response' }\n              )\n              .subscribe(result => {\n                this.wardrobeState.deleteStyles(result.body);\n                this.toaster.presentSuccessToast(`MESSAGE.WARDROBE_ITEMS.DELETE`);\n                this.location.back();\n              }),\n              error => {\n                console.log(error);\n              };\n          },\n        },\n        {\n          text: 'Annuler',\n          role: 'cancel',\n          cssClass: 'alert-cancel-button',\n          handler: blah => {\n            console.log('Confirm Cancel: blah');\n          },\n        },\n      ],\n      backdropDismiss: false,\n    });\n\n    await alert.present();\n  }\n\n  onModifyStyle() {\n    this.router.navigate(['main/wardrobe/modify-style', JSON.stringify(this.currentStyle)]);\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { SharedModule } from 'src/shared/shared.module';\nimport { StyleDetailsRoutingModule } from './style-details-routing.module';\nimport { StyleDetailsComponent } from './style-details.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    ReactiveFormsModule,\n    IonicModule,\n    SharedModule,\n    StyleDetailsRoutingModule,\n  ],\n  declarations: [StyleDetailsComponent],\n  providers: [],\n})\nexport class StyleDetailsModule {}\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}