{"version":3,"file":"src_app_main_wardrobe_style-reco_style-reco_module_ts.js","mappings":"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","sources":["./src/app/main/wardrobe/style-reco/style-reco-routing.module.ts","./src/app/main/wardrobe/style-reco/style-reco.component.ts","./src/app/main/wardrobe/style-reco/style-reco.module.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { StyleRecoComponent } from './style-reco.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: StyleRecoComponent,\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class StyleRecoRoutingModule {}\n","import { Location } from '@angular/common';\nimport { HttpClient } from '@angular/common/http';\nimport { Component, OnInit, ViewChild } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { AlertController, IonSlides } from '@ionic/angular';\nimport { NgxSpinnerService } from 'ngx-spinner';\nimport { AppConstants, LocalStorageConstants } from 'src/app/app.constants';\nimport { IStyle } from 'src/shared/models/type';\nimport { StorageService } from 'src/shared/services/storage.service';\nimport { ToasterService } from 'src/shared/services/toaster.service';\nimport { WardrobeStateService } from 'src/shared/state/wardrobe-state.service';\nimport { FirebaseAnalytics } from '@capacitor-community/firebase-analytics';\n\n@Component({\n  selector: 'app-style-reco',\n  templateUrl: './style-reco.component.html',\n  styleUrls: ['./style-reco.component.scss'],\n})\nexport class StyleRecoComponent implements OnInit {\n  currentStyles;\n  @ViewChild(IonSlides, { static: false }) ionSlides: IonSlides;\n  currency = 'EUR'; //TODO: modify with local\n  locale = 'fr';\n  fitsMap: any;\n  sizesMap: any;\n  brandsMap: any;\n  categoriesMap: any;\n  colors: any;\n  tabBar: any;\n  currentImageIndex = 0;\n  styleImages = new Map<string, any[]>([\n    ['FAM_01', []],\n    ['FAM_02', []],\n    ['FAM_03', []],\n  ]);\n  slidesOpts = {\n    allowTouchMove: false,\n    autoHeight: false,\n  };\n  constructor(\n    private readonly route: ActivatedRoute,\n    private readonly wardrobeState: WardrobeStateService,\n    private readonly storageService: StorageService,\n    private readonly alert: AlertController,\n    private readonly http: HttpClient,\n    private readonly toaster: ToasterService,\n    private readonly location: Location,\n    private readonly router: Router,\n    private readonly spinner: NgxSpinnerService\n  ) { }\n\n  ionViewWillEnter() {\n    FirebaseAnalytics.setScreenName({\n      screenName: \"RecoStyleScreen\",\n      nameOverride: \"RecoStyleScreen\",\n    });\n    this.tabBar.style.display = 'none';\n    FirebaseAnalytics.logEvent({\n      name: \"reco_style_entered\",\n      params: {},\n    });\n  }\n\n  ionViewDidEnter() {\n    this.spinner.hide('appSpinner');\n  }\n\n  ionViewWillLeave() {\n    this.tabBar.style.display = 'flex';\n  }\n\n  ngOnInit() {\n    this.tabBar = document.getElementById('tab-bar');\n    //add subscription\n    //this.wardrobeState.getRecommendedStyles().asObservable().subscribe(styles => this.currentStyles = styles);\n    this.currentStyles = this.wardrobeState.getRecommendedStyles().value;\n    /*this.currentStyles = [\n    {\n      items: [\n          {\n              category_id: \"SHIRT_01\",\n              images: [\n                  {\n                      id: \"e7d494e6-3436-4880-80b4-f5157f66c37e\",\n                      order: 1,\n                      s3_presigned_url: \"https://s3.eu-west-3.amazonaws.com/younzee-wardrobe-items/e7d494e6-3436-4880-80b4-f5157f66c37e.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAWL5DV2AFZE2RH7XA%2F20220811%2Feu-west-3%2Fs3%2Faws4_request&X-Amz-Date=20220811T132406Z&X-Amz-Expires=3600&X-Amz-SignedHeaders=host&X-Amz-Signature=51153c3c45ee3b155b54086f34ccc68aa49d1f2e8d1f7089190fd5f3bdd1839a\"\n                  }\n              ],\n          },\n          {\n              category_id: \"SHIRT_01\",\n              images: [\n                  {\n                      id: \"31acdaf5-a1e1-4292-b89d-78326d208fb4\",\n                      order: 1,\n                      s3_presigned_url: \"https://s3.eu-west-3.amazonaws.com/younzee-wardrobe-items/31acdaf5-a1e1-4292-b89d-78326d208fb4.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAWL5DV2AFZE2RH7XA%2F20220811%2Feu-west-3%2Fs3%2Faws4_request&X-Amz-Date=20220811T132406Z&X-Amz-Expires=3600&X-Amz-SignedHeaders=host&X-Amz-Signature=ddfd6789d111f96122e1d0bc7d1bdeb31c234f4569fb323e4451b1ce23b9306c\"\n                  },\n                  {\n                      id: \"ddd69de6-43f3-4836-b159-0cb2ff4c5651\",\n                      order: 2,\n                      s3_presigned_url: \"https://s3.eu-west-3.amazonaws.com/younzee-wardrobe-items/ddd69de6-43f3-4836-b159-0cb2ff4c5651.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAWL5DV2AFZE2RH7XA%2F20220811%2Feu-west-3%2Fs3%2Faws4_request&X-Amz-Date=20220811T132406Z&X-Amz-Expires=3600&X-Amz-SignedHeaders=host&X-Amz-Signature=3febd93f440974cb143e12761d15bc14fc5f939f6671954206c8f2d156b37bd1\"\n                  }\n              ],\n          },\n          {\n              category_id: \"SHIRT_01\",\n              images: [\n                  {\n                      id: \"8f0c4bab-53cd-4b94-a823-5488364a6e8f\",\n                      order: 1,\n                      s3_presigned_url: \"https://s3.eu-west-3.amazonaws.com/younzee-wardrobe-items/8f0c4bab-53cd-4b94-a823-5488364a6e8f.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAWL5DV2AFZE2RH7XA%2F20220811%2Feu-west-3%2Fs3%2Faws4_request&X-Amz-Date=20220811T132406Z&X-Amz-Expires=3600&X-Amz-SignedHeaders=host&X-Amz-Signature=6471400be97dfb175361356500847c76f5aa93055fe44cdd3679d71ee34f673b\"\n                  }\n              ],\n          },\n          {\n              category_id: \"SHIRT_01\",\n              images: [\n                  {\n                      id: \"25f5bdfa-7858-4b26-b427-9701dd88251f\",\n                      order: 1,\n                      s3_presigned_url: \"https://s3.eu-west-3.amazonaws.com/younzee-wardrobe-items/25f5bdfa-7858-4b26-b427-9701dd88251f.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAWL5DV2AFZE2RH7XA%2F20220811%2Feu-west-3%2Fs3%2Faws4_request&X-Amz-Date=20220811T132406Z&X-Amz-Expires=3600&X-Amz-SignedHeaders=host&X-Amz-Signature=7621d563b50c4a3f26e32c533fd92f550b2487e734c3ebbfacb52f3ddfb86f7e\"\n                  }\n              ],\n          },\n          {\n              category_id: \"SHIRT_01\",\n              images: [\n                  {\n                      id: \"3102787e-d2e5-49ab-a644-5c16440af9c1\",\n                      order: 1,\n                      s3_presigned_url: \"https://s3.eu-west-3.amazonaws.com/younzee-wardrobe-items/3102787e-d2e5-49ab-a644-5c16440af9c1.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAWL5DV2AFZE2RH7XA%2F20220811%2Feu-west-3%2Fs3%2Faws4_request&X-Amz-Date=20220811T132406Z&X-Amz-Expires=3600&X-Amz-SignedHeaders=host&X-Amz-Signature=6bc38de0cfbb01178b303a095e58b6238bc91cd3530d8f06ccda2ed3eeb438e9\"\n                  }\n              ],\n          },\n          {\n              category_id: \"CHAU_04\",\n              images: [\n                  {\n                      id: \"8b4ea5cf-115c-4d09-981f-ed38fa962070\",\n                      order: 1,\n                      s3_presigned_url: \"https://s3.eu-west-3.amazonaws.com/younzee-wardrobe-items/8b4ea5cf-115c-4d09-981f-ed38fa962070.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAWL5DV2AFZE2RH7XA%2F20220811%2Feu-west-3%2Fs3%2Faws4_request&X-Amz-Date=20220811T132406Z&X-Amz-Expires=3600&X-Amz-SignedHeaders=host&X-Amz-Signature=8f2f4d2c2e95689fcaaa00c62716c840204b0c02df8a0c218a19f01817b15371\"\n                  },\n                  {\n                      id: \"162fb5fc-773f-4dbb-8387-89f289b62b6d\",\n                      order: 2,\n                      s3_presigned_url: \"https://s3.eu-west-3.amazonaws.com/younzee-wardrobe-items/162fb5fc-773f-4dbb-8387-89f289b62b6d.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAWL5DV2AFZE2RH7XA%2F20220811%2Feu-west-3%2Fs3%2Faws4_request&X-Amz-Date=20220811T132406Z&X-Amz-Expires=3600&X-Amz-SignedHeaders=host&X-Amz-Signature=074f6a2e7a8aab853cc5c8fa6705d6ad39effb90b2d6e1297515ef44e51cea71\"\n                  }\n              ],\n          },\n          {\n              category_id: \"ACC_05\",\n              images: [\n                  {\n                      id: \"9158c510-8864-41ba-b12a-f3a2c4731f0e\",\n                      order: 1,\n                      s3_presigned_url: \"https://s3.eu-west-3.amazonaws.com/younzee-wardrobe-items/9158c510-8864-41ba-b12a-f3a2c4731f0e.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAWL5DV2AFZE2RH7XA%2F20220811%2Feu-west-3%2Fs3%2Faws4_request&X-Amz-Date=20220811T132406Z&X-Amz-Expires=3600&X-Amz-SignedHeaders=host&X-Amz-Signature=37bab84eed416525a29b3d3f349499e6206c30968ce300ca403f18ec0c3aec3a\"\n                  }\n              ],\n          },\n          {\n              category_id: \"ACC_05\",\n              images: [\n                  {\n                      id: \"792c0b03-0efb-4822-a08d-23b0a6345bee\",\n                      order: 1,\n                      s3_presigned_url: \"https://s3.eu-west-3.amazonaws.com/younzee-wardrobe-items/792c0b03-0efb-4822-a08d-23b0a6345bee.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAWL5DV2AFZE2RH7XA%2F20220811%2Feu-west-3%2Fs3%2Faws4_request&X-Amz-Date=20220811T132406Z&X-Amz-Expires=3600&X-Amz-SignedHeaders=host&X-Amz-Signature=159ca12455595b6bb7f9219860c9273f7d4589305d52980341fdc61bf68f703e\"\n                  },\n                  {\n                      id: \"ffacd76b-bbc9-4d03-99a8-c7d2bf3bbff0\",\n                      order: 2,\n                      s3_presigned_url: \"https://s3.eu-west-3.amazonaws.com/younzee-wardrobe-items/ffacd76b-bbc9-4d03-99a8-c7d2bf3bbff0.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAWL5DV2AFZE2RH7XA%2F20220811%2Feu-west-3%2Fs3%2Faws4_request&X-Amz-Date=20220811T132406Z&X-Amz-Expires=3600&X-Amz-SignedHeaders=host&X-Amz-Signature=8511de38c5a7ef13f4d32d316fa93223c1ba5cf8b43969fabb0d108e30be5b8a\"\n                  }\n              ],\n          }\n      ],\n      season_id: 0,\n      title: \"style6-3-1\",\n      updated_at: \"2022-07-14T13:44:55\",\n      user_id: \"auth0|6171947d25f203006807f1e5\",\n      wear_at_night: false,\n      weather_id: 3,\n      temperature: \"57°C\"\n  },{\n      id: \"3fdce1a5-92a3-4a83-aa6c-7b1bc45af2c5\",\n    inserted_at: \"2022-07-08T14:25:08\",\n    items: [\n      {\n        category_id: \"CHAU_04\",\n        images: [\n            {\n                id: \"c77cf44b-fcf2-47b9-869d-50229eb257c1\",\n                order: 1,\n                s3_presigned_url: \"https://s3.eu-west-3.amazonaws.com/younzee-wardrobe-items/c77cf44b-fcf2-47b9-869d-50229eb257c1.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAWL5DV2AFZE2RH7XA%2F20220811%2Feu-west-3%2Fs3%2Faws4_request&X-Amz-Date=20220811T132406Z&X-Amz-Expires=3600&X-Amz-SignedHeaders=host&X-Amz-Signature=448f84729472283ac98eb49af6bc913468e1ca0518f0f468da2bba74e7d7ac8f\"\n            },\n            {\n                id: \"d4694ec5-828f-4ddc-a922-438f8e94542b\",\n                order: 2,\n                s3_presigned_url: \"https://s3.eu-west-3.amazonaws.com/younzee-wardrobe-items/d4694ec5-828f-4ddc-a922-438f8e94542b.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAWL5DV2AFZE2RH7XA%2F20220811%2Feu-west-3%2Fs3%2Faws4_request&X-Amz-Date=20220811T132406Z&X-Amz-Expires=3600&X-Amz-SignedHeaders=host&X-Amz-Signature=df8a7191695cc1f790ec73b96bb6b13db6074ae4aa117b851631772cf8be0e29\"\n            }\n        ],\n    },\n      {category_id: \"SHIRT_01\",\n      images: [\n        {id: \"31acdaf5-a1e1-4292-b89d-78326d208fb4\",\n        order: 1,\n        s3_presigned_url: \"https://s3.eu-west-3.amazonaws.com/younzee-wardrobe-items/31acdaf5-a1e1-4292-b89d-78326d208fb4.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAWL5DV2AFZE2RH7XA%2F20220811%2Feu-west-3%2Fs3%2Faws4_request&X-Amz-Date=20220811T130137Z&X-Amz-Expires=3600&X-Amz-SignedHeaders=host&X-Amz-Signature=ef8ff27bbfb00f55455f6c0a469ee11377f4efb6d7d24e9104187c6d816bafbe\"\n        },{\n        id: \"ddd69de6-43f3-4836-b159-0cb2ff4c5651\",\n        order: 2,\n        s3_presigned_url: \"https://s3.eu-west-3.amazonaws.com/younzee-wardrobe-items/ddd69de6-43f3-4836-b159-0cb2ff4c5651.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAWL5DV2AFZE2RH7XA%2F20220811%2Feu-west-3%2Fs3%2Faws4_request&X-Amz-Date=20220811T130137Z&X-Amz-Expires=3600&X-Amz-SignedHeaders=host&X-Amz-Signature=c6e6bd8b43b0224cc4490e5737948b39ef907cb2441b84a41deb78ab5a436eb6\",}\n        ],\n      },\n      {category_id: \"CPLAT_02\",    \n      images: [\n        {\n          id: \"5944d639-e7b2-443d-8a47-ab0e4dfdecdf\",\n          order: 1,\n          s3_presigned_url: \"https://s3.eu-west-3.amazonaws.com/younzee-wardrobe-items/5944d639-e7b2-443d-8a47-ab0e4dfdecdf.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAWL5DV2AFZE2RH7XA%2F20220811%2Feu-west-3%2Fs3%2Faws4_request&X-Amz-Date=20220811T130137Z&X-Amz-Expires=3600&X-Amz-SignedHeaders=host&X-Amz-Signature=7716b7e937ac54109e46e97bafffacba8ef7c5a3696ca333afb0b85269880a41\"\n      },\n      {\n          id: \"1f698176-040e-44a9-9f1a-fc9944509d4b\",\n          order: 2,\n          s3_presigned_url: \"https://s3.eu-west-3.amazonaws.com/younzee-wardrobe-items/1f698176-040e-44a9-9f1a-fc9944509d4b.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAWL5DV2AFZE2RH7XA%2F20220811%2Feu-west-3%2Fs3%2Faws4_request&X-Amz-Date=20220811T130137Z&X-Amz-Expires=3600&X-Amz-SignedHeaders=host&X-Amz-Signature=5a80286f05c462355cbe64b90cbd77da434557581035bbc1556a1031deff947f\"\n      }],\n      }\n    ],\n    record_type: \"style\",\n    season_id: 0,\n    tags: [{name: \"test\"}],\n    title: \"style 1\",\n    updated_at: \"2022-07-08T14:25:08\",\n    user_id: \"auth0|6171947d25f203006807f1e5\",\n    wear_at_night: true,\n    weather_id: 0,\n    temperature: '37°C'\n    }];*/\n    this.brandsMap = this.storageService.getJSONItemFromLocalStorage(\n      LocalStorageConstants.BRANDS_AS_MAP\n    );\n    this.sizesMap = this.storageService.getJSONItemFromLocalStorage(\n      LocalStorageConstants.SIZE_GROUPS_AS_MAP\n    );\n    this.categoriesMap = this.storageService.getJSONItemFromLocalStorage(\n      LocalStorageConstants.CATEGORIES_AS_MAP\n    );\n    this.colors = this.storageService.getJSONItemFromLocalStorage(\n      LocalStorageConstants.COLORS_AS_MAP\n    );\n    this.fitsMap = this.storageService.getJSONItemFromLocalStorage(\n      LocalStorageConstants.FITS_AS_MAP\n    );\n    this.currentStyles[0]?.items.forEach(item => {\n      const category = this.categoriesMap[item.category_id].ancestry.split('.')[0];\n      const images = this.styleImages.get(category);\n      images.push(item.images[0]);\n      this.styleImages.set(category, images);\n    });\n  }\n\n  async onValidateReco() {\n    this.sendValidation(true, this.currentStyles[0]);\n    /*this.styleImages.set(\"FAM_01\", [])\n    this.styleImages.set(\"FAM_02\", [])\n    this.styleImages.set(\"FAM_03\", [])\n    this.currentStyles[0].items.forEach((item) => {\n      const category = this.categoriesMap[item.category_id].ancestry.split('.')[0];\n      const images = this.styleImages.get(category)\n      images.push(item.images[0])\n      this.styleImages.set(category, images)\n    })*/\n  }\n\n  async onRemoveReco() {\n    this.sendValidation(false, this.currentStyles[0]);\n  }\n\n  sendValidation(isLike: boolean, style: IStyle) {\n    let body = {};\n    if (isLike) {\n      body = {\n        last_seen_at: new Date(),\n        user_liked_count: style.user_liked_count + 1,\n      };\n    } else {\n      body = {\n        last_seen_at: new Date(),\n        disliked_at: new Date(),\n      };\n    }\n    //send dislike or like\n    this.http\n      .patch(`${AppConstants.styleUrl}/${style.id}`, body, { observe: 'response' })\n      .subscribe((response: any) => {\n        //SUCCESS\n        if (isLike) {\n          //enlever le style de l'etat\n          this.wardrobeState.removeRecoStyleFromIndex(0);\n          // l'ajouter ou non a la garde robe\n          this.wardrobeState.addNewStyle(style);\n          //toaster succes\n          this.toaster.presentSuccessToast(`MESSAGE.WARDROBE_ITEMS.STYLE_201`);\n        } else {\n          //enlever le style de l'etat\n          this.wardrobeState.removeRecoStyleFromIndex(0);\n          //toaster succes error\n          this.toaster.presentErrorToast(`MESSAGE.WARDROBE_ITEMS.STYLE_DISLIKE_201`);\n        }\n        this.styleImages.set('FAM_01', []);\n        this.styleImages.set('FAM_02', []);\n        this.styleImages.set('FAM_03', []);\n        this.currentStyles[0]?.items.forEach(item => {\n          const category = this.categoriesMap[item.category_id].ancestry.split('.')[0];\n          const images = this.styleImages.get(category);\n          images.push(item.images[0]);\n          this.styleImages.set(category, images);\n        });\n      }),\n      error => {\n        console.log(error);\n        this.toaster.presentErrorToast('SHARED.ERROR');\n      };\n\n    // ERREUR\n    // ne rien faire\n    // toqster erreur\n    /*this.appState.setUserInfos(response.body.data)\n      this.toasterService.presentSuccessToast(`MESSAGE.PROFILE.EDIT_${response.status}`);\n    }), (error) => {\n      console.log(error);\n      this.toasterService.presentErrorToast('SHARED.ERROR');\n    }*/\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { SharedModule } from 'src/shared/shared.module';\nimport { StyleRecoRoutingModule } from './style-reco-routing.module';\nimport { StyleRecoComponent } from './style-reco.component';\n\n@NgModule({\n  imports: [SharedModule, StyleRecoRoutingModule],\n  declarations: [StyleRecoComponent],\n  providers: [],\n})\nexport class StyleRecoModule {}\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}